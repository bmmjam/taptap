###   Улучшение точности                                                           

​                                                                               
  Сейчас у тебя rule-based скоринг с захардкоженными весами — это хороший MVP, 
  но потолок точности у него низкий. Вот конкретные направления:
​                                                                               

  1. Собирать ground truth (самое важное)                                      
                                                                               

  Без валидации ты не знаешь, работают ли эвристики вообще. Решение:
  - После результата — спрашивать пользователя: «Насколько точно? 1-5» или
    «Какая эмоция тебе ближе на самом деле?»
  - Это даёт размеченный датасет: (features) → (реальная эмоция)
  - Даже 200-300 размеченных сессий позволят натренировать простую модель

  2. Заменить эвристики на ML

  С размеченными данными можно обучить:
  - Random Forest / XGBoost — работает хорошо на табличных фичах,
    интерпретируемо
  - Logistic Regression — как baseline, покажет вклад каждой фичи
  - Модель можно экспортировать в JS (ONNX Runtime Web, или просто захардкодить
      веса логрега)

  3. Больше и лучше фичи

  Сейчас у тебя ~10 фичей. Можно извлечь ещё:
  Фича: Распределение интервалов (std, skewness, kurtosis)
  Что даёт: Ритмичность vs хаотичность детальнее чем regularity
  ────────────────────────────────────────
  Фича: Ускорение/замедление (тренд частоты по 2-секундным окнам)
  Что даёт: Утомление, потеря интереса, нарастание тревоги
  ────────────────────────────────────────
  Фича: Пространственный разброс (std координат X, Y)
  Что даёт: Хаотичное тапание vs точное
  ────────────────────────────────────────
  Фича: Кластеры касаний (entropy позиций)
  Что даёт: Один палец vs несколько пальцев
  ────────────────────────────────────────
  Фича: Давление: дисперсия, тренд
  Что даёт: Нарастающая фрустрация vs расслабленность
  ────────────────────────────────────────
  Фича: Паузы (интервалы > 500ms)
  Что даёт: Заминки, нерешительность
  ────────────────────────────────────────
  Фича: Жесты (свайпы vs тапы из trailDistance)
  Что даёт: Тип моторики
  4. Персональный baseline

  Эмоции — это отклонение от нормы конкретного человека. Если пользователь
  тапает повторно:
  - Сравнивать его результат с его же предыдущими сессиями
  - «Ты тапаешь на 40% быстрее обычного» → более надёжный сигнал стресса

  5. Увеличить окно или добавить фазы

  6 секунд — мало. Варианты:
  - Две фазы: 6 сек свободного тапа + 6 сек «повтори ритм» (отклонение от
    заданного ритма — сигнал тревоги)
  - Или просто 10 секунд — больше данных, точнее фичи

---
  Научная обоснованность

  Да, литература есть — и много

  Твой проект находится на пересечении нескольких активных исследовательских
  областей:

  1. Keystroke / Touch Dynamics & Emotion
  - Epp, Lippold & Mandryk (2011) — «Identifying Emotional States Using
    Keystroke Dynamics» — показали, что паттерны набора текста коррелируют с
    эмоциями (confidence, hesitation, nervousness) с точностью ~78%
  - Ghosh, Ganguly et al. (2017-2019) — серия работ о том, как touchscreen
    interaction patterns (pressure, area, swipe velocity) коррелируют со стрессом
      и тревогой
  - Ciman & Wac (2016) — «iSenseMood» — распознавание настроения по паттернам
    взаимодействия со смартфоном (touch + typing), точность ~70%

  2. Mobile Sensing & Mental Health
  - LiKamWa et al. (2013) — «MoodScope» — предсказание настроения по паттернам
    использования телефона (93% accuracy через 2 месяца обучения)
  - Saeb et al. (2015) — корреляция GPS + phone usage patterns с депрессией
  - Zulueta et al. (2018) — keystroke dynamics для биполярного расстройства

  3. Affective Computing (фундамент)
  - Rosalind Picard, MIT Media Lab — основоположница всей области, книга
    «Affective Computing» (1997)
  - Calvo & D'Mello (2010) — обзор «Affect Detection: An Interdisciplinary
    Review» — покрывает все модальности

  4. Behavioral Biometrics
  - Огромная область, обычно для аутентификации (как ты тапаешь = кто ты), но
    те же фичи работают для эмоций
  - Antal & Nemes (2016) — touch dynamics для идентификации пользователя —
    доказывает, что touch patterns уникальны и информативны

  Почему до тебя «никто не делал»?

  На самом деле делали похожее, но:

  1. Академический формат — исследования остаются в PDF-ах и лабораториях.
    Никто не упаковывал это в продукт для массового пользователя, тем более в
    Telegram Mini App
  2. Другой фокус — большинство работ про пассивный мониторинг (фоновый сбор
    данных за дни/недели), а не активный 6-секундный тест. Твой формат
    «микро-теста» — это продуктовая находка
  3. Групповой контекст — исследования почти всегда индивидуальные.
    Эмоциональная карта группы в реальном времени — это новое
  4. Delivery mechanism — Telegram Mini App = zero friction, мгновенный доступ,
      вирусность через группы. В науке обычно custom app, который надо ставить
    отдельно

  Как обосновать валидность

  Конкретный план:

  1. Цитируй литературу выше — она доказывает, что touch/keystroke dynamics →
    эмоции — это научно обоснованный подход
  2. Собери свой validation dataset — попроси 50+ человек:

    - Пройти стандартизированный тест (PANAS, SAM, или даже простой
  Likert-scale)
    - Сразу после — тапнуть в твоём приложении
    - Посчитай корреляцию между self-report и твоей классификацией
  3. A/B baseline — сравни точность своей модели с random baseline (16.7% для 6
      эмоций) и majority baseline
  4. Позиционируй честно — это не клинический инструмент, а «emotional
    check-in» / инструмент рефлексии. Даже если точность 50-60%, это полезнее чем
      ноль, потому что заставляет задуматься об эмоциональном состоянии

  Ключевой аргумент

  Сам факт того, что человек остановился и задумался «а что я сейчас чувствую?»
   — уже терапевтически полезен. Это называется emotional granularity (Lisa
  Feldman Barrett) — способность различать свои эмоции улучшает психическое
  здоровье. Твоё приложение — trigger для этой рефлексии, а не замена
  психолога.